/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rt=window,Xt=rt.ShadowRoot&&(rt.ShadyCSS===void 0||rt.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Yt=Symbol(),en=new WeakMap;let An=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==Yt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(Xt&&e===void 0){const n=t!==void 0&&t.length===1;n&&(e=en.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&en.set(t,e))}return e}toString(){return this.cssText}};const Wn=o=>new An(typeof o=="string"?o:o+"",void 0,Yt),Wt=(o,...e)=>{const t=o.length===1?o[0]:e.reduce((n,i,r)=>n+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+o[r+1],o[0]);return new An(t,o,Yt)},Gn=(o,e)=>{Xt?o.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet):e.forEach(t=>{const n=document.createElement("style"),i=rt.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=t.cssText,o.appendChild(n)})},tn=Xt?o=>o:o=>o instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return Wn(t)})(o):o;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var wt;const ut=window,nn=ut.trustedTypes,qn=nn?nn.emptyScript:"",on=ut.reactiveElementPolyfillSupport,Ut={toAttribute(o,e){switch(e){case Boolean:o=o?qn:null;break;case Object:case Array:o=o==null?o:JSON.stringify(o)}return o},fromAttribute(o,e){let t=o;switch(e){case Boolean:t=o!==null;break;case Number:t=o===null?null:Number(o);break;case Object:case Array:try{t=JSON.parse(o)}catch{t=null}}return t}},Dn=(o,e)=>e!==o&&(e==e||o==o),Et={attribute:!0,type:String,converter:Ut,reflect:!1,hasChanged:Dn},Bt="finalized";let Ee=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach((t,n)=>{const i=this._$Ep(n,t);i!==void 0&&(this._$Ev.set(i,n),e.push(i))}),e}static createProperty(e,t=Et){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,n,t);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(i){const r=this[e];this[t]=i,this.requestUpdate(e,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Et}static finalize(){if(this.hasOwnProperty(Bt))return!1;this[Bt]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,n=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of n)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)t.unshift(tn(i))}else e!==void 0&&t.push(tn(e));return t}static _$Ep(e,t){const n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,n;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;const t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return Gn(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var n;return(n=t.hostConnected)===null||n===void 0?void 0:n.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var n;return(n=t.hostDisconnected)===null||n===void 0?void 0:n.call(t)})}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=Et){var i;const r=this.constructor._$Ep(e,n);if(r!==void 0&&n.reflect===!0){const s=(((i=n.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?n.converter:Ut).toAttribute(t,n.type);this._$El=e,s==null?this.removeAttribute(r):this.setAttribute(r,s),this._$El=null}}_$AK(e,t){var n;const i=this.constructor,r=i._$Ev.get(e);if(r!==void 0&&this._$El!==r){const s=i.getPropertyOptions(r),l=typeof s.converter=="function"?{fromAttribute:s.converter}:((n=s.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?s.converter:Ut;this._$El=r,this[r]=l.fromAttribute(t,s.type),this._$El=null}}requestUpdate(e,t,n){let i=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||Dn)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,r)=>this[r]=i),this._$Ei=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var r;return(r=i.hostUpdate)===null||r===void 0?void 0:r.call(i)}),this.update(n)):this._$Ek()}catch(i){throw t=!1,this._$Ek(),i}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(n=>{var i;return(i=n.hostUpdated)===null||i===void 0?void 0:i.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,n)=>this._$EO(n,this[n],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Ee[Bt]=!0,Ee.elementProperties=new Map,Ee.elementStyles=[],Ee.shadowRootOptions={mode:"open"},on==null||on({ReactiveElement:Ee}),((wt=ut.reactiveElementVersions)!==null&&wt!==void 0?wt:ut.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var $t;const ht=window,De=ht.trustedTypes,rn=De?De.createPolicy("lit-html",{createHTML:o=>o}):void 0,Ft="$lit$",ne=`lit$${(Math.random()+"").slice(9)}$`,Cn="?"+ne,Zn=`<${Cn}>`,be=document,We=()=>be.createComment(""),Ge=o=>o===null||typeof o!="object"&&typeof o!="function",xn=Array.isArray,Kn=o=>xn(o)||typeof(o==null?void 0:o[Symbol.iterator])=="function",St=`[ 	
\f\r]`,ke=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,sn=/-->/g,an=/>/g,ue=RegExp(`>|${St}(?:([^\\s"'>=/]+)(${St}*=${St}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),ln=/'/g,dn=/"/g,Tn=/^(?:script|style|textarea|title)$/i,Jn=o=>(e,...t)=>({_$litType$:o,strings:e,values:t}),me=Jn(1),ye=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),cn=new WeakMap,ve=be.createTreeWalker(be,129,null,!1);function On(o,e){if(!Array.isArray(o)||!o.hasOwnProperty("raw"))throw Error("invalid template strings array");return rn!==void 0?rn.createHTML(e):e}const Qn=(o,e)=>{const t=o.length-1,n=[];let i,r=e===2?"<svg>":"",s=ke;for(let l=0;l<t;l++){const a=o[l];let d,u,c=-1,f=0;for(;f<a.length&&(s.lastIndex=f,u=s.exec(a),u!==null);)f=s.lastIndex,s===ke?u[1]==="!--"?s=sn:u[1]!==void 0?s=an:u[2]!==void 0?(Tn.test(u[2])&&(i=RegExp("</"+u[2],"g")),s=ue):u[3]!==void 0&&(s=ue):s===ue?u[0]===">"?(s=i??ke,c=-1):u[1]===void 0?c=-2:(c=s.lastIndex-u[2].length,d=u[1],s=u[3]===void 0?ue:u[3]==='"'?dn:ln):s===dn||s===ln?s=ue:s===sn||s===an?s=ke:(s=ue,i=void 0);const p=s===ue&&o[l+1].startsWith("/>")?" ":"";r+=s===ke?a+Zn:c>=0?(n.push(d),a.slice(0,c)+Ft+a.slice(c)+ne+p):a+ne+(c===-2?(n.push(void 0),l):p)}return[On(o,r+(o[t]||"<?>")+(e===2?"</svg>":"")),n]};class qe{constructor({strings:e,_$litType$:t},n){let i;this.parts=[];let r=0,s=0;const l=e.length-1,a=this.parts,[d,u]=Qn(e,t);if(this.el=qe.createElement(d,n),ve.currentNode=this.el.content,t===2){const c=this.el.content,f=c.firstChild;f.remove(),c.append(...f.childNodes)}for(;(i=ve.nextNode())!==null&&a.length<l;){if(i.nodeType===1){if(i.hasAttributes()){const c=[];for(const f of i.getAttributeNames())if(f.endsWith(Ft)||f.startsWith(ne)){const p=u[s++];if(c.push(f),p!==void 0){const g=i.getAttribute(p.toLowerCase()+Ft).split(ne),m=/([.?@])?(.*)/.exec(p);a.push({type:1,index:r,name:m[2],strings:g,ctor:m[1]==="."?to:m[1]==="?"?oo:m[1]==="@"?io:bt})}else a.push({type:6,index:r})}for(const f of c)i.removeAttribute(f)}if(Tn.test(i.tagName)){const c=i.textContent.split(ne),f=c.length-1;if(f>0){i.textContent=De?De.emptyScript:"";for(let p=0;p<f;p++)i.append(c[p],We()),ve.nextNode(),a.push({type:2,index:++r});i.append(c[f],We())}}}else if(i.nodeType===8)if(i.data===Cn)a.push({type:2,index:r});else{let c=-1;for(;(c=i.data.indexOf(ne,c+1))!==-1;)a.push({type:7,index:r}),c+=ne.length-1}r++}}static createElement(e,t){const n=be.createElement("template");return n.innerHTML=e,n}}function Ce(o,e,t=o,n){var i,r,s,l;if(e===ye)return e;let a=n!==void 0?(i=t._$Co)===null||i===void 0?void 0:i[n]:t._$Cl;const d=Ge(e)?void 0:e._$litDirective$;return(a==null?void 0:a.constructor)!==d&&((r=a==null?void 0:a._$AO)===null||r===void 0||r.call(a,!1),d===void 0?a=void 0:(a=new d(o),a._$AT(o,t,n)),n!==void 0?((s=(l=t)._$Co)!==null&&s!==void 0?s:l._$Co=[])[n]=a:t._$Cl=a),a!==void 0&&(e=Ce(o,a._$AS(o,e.values),a,n)),e}class eo{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:n},parts:i}=this._$AD,r=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:be).importNode(n,!0);ve.currentNode=r;let s=ve.nextNode(),l=0,a=0,d=i[0];for(;d!==void 0;){if(l===d.index){let u;d.type===2?u=new Oe(s,s.nextSibling,this,e):d.type===1?u=new d.ctor(s,d.name,d.strings,this,e):d.type===6&&(u=new ro(s,this,e)),this._$AV.push(u),d=i[++a]}l!==(d==null?void 0:d.index)&&(s=ve.nextNode(),l++)}return ve.currentNode=be,r}v(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class Oe{constructor(e,t,n,i){var r;this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=i,this._$Cp=(r=i==null?void 0:i.isConnected)===null||r===void 0||r}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Ce(this,e,t),Ge(e)?e===T||e==null||e===""?(this._$AH!==T&&this._$AR(),this._$AH=T):e!==this._$AH&&e!==ye&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Kn(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==T&&Ge(this._$AH)?this._$AA.nextSibling.data=e:this.$(be.createTextNode(e)),this._$AH=e}g(e){var t;const{values:n,_$litType$:i}=e,r=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=qe.createElement(On(i.h,i.h[0]),this.options)),i);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===r)this._$AH.v(n);else{const s=new eo(r,this),l=s.u(this.options);s.v(n),this.$(l),this._$AH=s}}_$AC(e){let t=cn.get(e.strings);return t===void 0&&cn.set(e.strings,t=new qe(e)),t}T(e){xn(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,i=0;for(const r of e)i===t.length?t.push(n=new Oe(this.k(We()),this.k(We()),this,this.options)):n=t[i],n._$AI(r),i++;i<t.length&&(this._$AR(n&&n._$AB.nextSibling,i),t.length=i)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,t);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class bt{constructor(e,t,n,i,r){this.type=1,this._$AH=T,this._$AN=void 0,this.element=e,this.name=t,this._$AM=i,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=T}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,i){const r=this.strings;let s=!1;if(r===void 0)e=Ce(this,e,t,0),s=!Ge(e)||e!==this._$AH&&e!==ye,s&&(this._$AH=e);else{const l=e;let a,d;for(e=r[0],a=0;a<r.length-1;a++)d=Ce(this,l[n+a],t,a),d===ye&&(d=this._$AH[a]),s||(s=!Ge(d)||d!==this._$AH[a]),d===T?e=T:e!==T&&(e+=(d??"")+r[a+1]),this._$AH[a]=d}s&&!i&&this.j(e)}j(e){e===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class to extends bt{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===T?void 0:e}}const no=De?De.emptyScript:"";class oo extends bt{constructor(){super(...arguments),this.type=4}j(e){e&&e!==T?this.element.setAttribute(this.name,no):this.element.removeAttribute(this.name)}}class io extends bt{constructor(e,t,n,i,r){super(e,t,n,i,r),this.type=5}_$AI(e,t=this){var n;if((e=(n=Ce(this,e,t,0))!==null&&n!==void 0?n:T)===ye)return;const i=this._$AH,r=e===T&&i!==T||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==T&&(i===T||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;typeof this._$AH=="function"?this._$AH.call((n=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}}class ro{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){Ce(this,e)}}const so={I:Oe},un=ht.litHtmlPolyfillSupport;un==null||un(qe,Oe),(($t=ht.litHtmlVersions)!==null&&$t!==void 0?$t:ht.litHtmlVersions=[]).push("2.8.0");const ao=(o,e,t)=>{var n,i;const r=(n=t==null?void 0:t.renderBefore)!==null&&n!==void 0?n:e;let s=r._$litPart$;if(s===void 0){const l=(i=t==null?void 0:t.renderBefore)!==null&&i!==void 0?i:null;r._$litPart$=s=new Oe(e.insertBefore(We(),l),l,void 0,t??{})}return s._$AI(o),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var At,Dt;let re=class extends Ee{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ao(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return ye}};re.finalized=!0,re._$litElement$=!0,(At=globalThis.litElementHydrateSupport)===null||At===void 0||At.call(globalThis,{LitElement:re});const hn=globalThis.litElementPolyfillSupport;hn==null||hn({LitElement:re});((Dt=globalThis.litElementVersions)!==null&&Dt!==void 0?Dt:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yt=o=>e=>typeof e=="function"?((t,n)=>(customElements.define(t,n),n))(o,e):((t,n)=>{const{kind:i,elements:r}=n;return{kind:i,elements:r,finisher(s){customElements.define(t,s)}}})(o,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const lo=(o,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(t){t.createProperty(e.key,o)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,o)}},co=(o,e,t)=>{e.constructor.createProperty(t,o)};function O(o){return(e,t)=>t!==void 0?co(o,e,t):lo(o,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function uo(o){return O({...o,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ct;((Ct=window.HTMLSlotElement)===null||Ct===void 0?void 0:Ct.prototype.assignedElements)!=null;var ho=Object.defineProperty,fo=Object.getOwnPropertyDescriptor,Ke=(o,e,t,n)=>{for(var i=n>1?void 0:n?fo(e,t):e,r=o.length-1,s;r>=0;r--)(s=o[r])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&ho(e,t,i),i};let xe=class extends re{constructor(){super(...arguments),this.narrow=!1}render(){return me`
        <div class="toolbar">
            <ha-icon-button-arrow-prev
                .hass=${this.hass}
                @click=${this._backTapped}
            ></ha-icon-button-arrow-prev>

            <div class="main-title">
                <slot name="header">${this.header}</slot>
            </div>

            <slot name="toolbar-icon"></slot>
        </div>

        <div class="content ha-scrollbar">
            <!--<slot name="left"></slot>-->
            <slot></slot>
        </div>
    `}_backTapped(){history.back()}static get styles(){return[Wt`
          :host {
              display: block;
              height: 100%;
              background-color: var(--primary-background-color);
              overflow: hidden;
              position: relative;
          }

          :host([narrow]) {
              width: 100%;
              position: fixed;
          }

          .toolbar {
              display: flex;
              align-items: center;
              font-size: 20px;
              height: var(--header-height);
              padding: 8px 12px;
              background-color: var(--app-header-background-color);
              font-weight: 400;
              color: var(--app-header-text-color, white);
              border-bottom: var(--app-header-border-bottom, none);
              box-sizing: border-box;
          }

          @media (max-width: 599px) {
              .toolbar {
                  padding: 4px;
              }
          }

          .toolbar a {
              color: var(--sidebar-text-color);
              text-decoration: none;
          }

          ha-menu-button,
          ha-icon-button-arrow-prev,
          ::slotted([slot="toolbar-icon"]) {
              pointer-events: auto;
              color: var(--sidebar-icon-color);
          }

          .main-title {
              margin: var(--margin-title);
              line-height: 20px;
              min-width: 0;
              flex-grow: 1;
              overflow-wrap: break-word;
              display: -webkit-box;
              -webkit-line-clamp: 2;
              -webkit-box-orient: vertical;
              overflow: hidden;
              text-overflow: ellipsis;
              padding-bottom: 1px;
          }

          .content {
              box-sizing: border-box;
              padding: 30px;
              position: relative;
              width: 100%;
              height: calc(100% - 1px - var(--header-height));
              overflow-y: auto;
              overflow: auto;
              -webkit-overflow-scrolling: touch;
              display: flex;
              justify-content: center;
              gap: 1rem;
          }
          
          .content ::slotted(*) {
              flex: 1;
              max-width: 700px;
          }

          /*
          .content ::slotted([slot="left"]) {
              max-width: 400px;
              flex: 1;
          }
          */
          
          :host([narrow]) #fab.tabs {
              bottom: calc(84px + env(safe-area-inset-bottom));
          }
      `]}};Ke([O({attribute:!1})],xe.prototype,"hass",2);Ke([O()],xe.prototype,"header",2);Ke([O({type:String,attribute:"back-url"})],xe.prototype,"backUrl",2);Ke([O({type:Boolean,reflect:!0})],xe.prototype,"narrow",2);xe=Ke([yt("htd-layout")],xe);var po=Object.defineProperty,go=Object.getOwnPropertyDescriptor,Gt=(o,e,t,n)=>{for(var i=n>1?void 0:n?go(e,t):e,r=o.length-1,s;r>=0;r--)(s=o[r])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&po(e,t,i),i};let Ze=class extends re{constructor(){super(...arguments),this.schema=[{name:"host",selector:{text:{}}},{name:"port",selector:{number:{}}}],this.labelsMap={host:"Host",port:"Port"}}handleValueChange(o){this.config={...this.config,...o.detail.value}}onSave(){this.dispatchEvent(new CustomEvent("save",{detail:{config:this.config},bubbles:!0,composed:!0}))}render(){return me`
        <ha-card header="Network Settings">
            <div class="card-content">
                <ha-form
                    .hass=${this.hass}
                    .data=${this.config}
                    .schema=${this.schema}
                    .computeLabel=${o=>this.labelsMap[o.name]||o.name}
                    @value-changed=${this.handleValueChange}
                ></ha-form>
            </div>
            <div class="card-actions">
                <ha-progress-button @click=${this.onSave}>
                    Save
                </ha-progress-button>
            </div>
        </ha-card>
    `}};Ze.styles=[Wt`
        .card-actions {
            display: flex;
            justify-content: flex-end;
        }
    `];Gt([O({attribute:!1})],Ze.prototype,"hass",2);Gt([O({type:Object})],Ze.prototype,"config",2);Ze=Gt([yt("htd-device-setup-form")],Ze);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vo={CHILD:2},mo=o=>(...e)=>({_$litDirective$:o,values:e});class bo{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:yo}=so,fn=()=>document.createComment(""),Ue=(o,e,t)=>{var n;const i=o._$AA.parentNode,r=e===void 0?o._$AB:e._$AA;if(t===void 0){const s=i.insertBefore(fn(),r),l=i.insertBefore(fn(),r);t=new yo(s,l,o,o.options)}else{const s=t._$AB.nextSibling,l=t._$AM,a=l!==o;if(a){let d;(n=t._$AQ)===null||n===void 0||n.call(t,o),t._$AM=o,t._$AP!==void 0&&(d=o._$AU)!==l._$AU&&t._$AP(d)}if(s!==r||a){let d=t._$AA;for(;d!==s;){const u=d.nextSibling;i.insertBefore(d,r),d=u}}}return t},he=(o,e,t=o)=>(o._$AI(e,t),o),_o={},wo=(o,e=_o)=>o._$AH=e,Eo=o=>o._$AH,xt=o=>{var e;(e=o._$AP)===null||e===void 0||e.call(o,!1,!0);let t=o._$AA;const n=o._$AB.nextSibling;for(;t!==n;){const i=t.nextSibling;t.remove(),t=i}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pn=(o,e,t)=>{const n=new Map;for(let i=e;i<=t;i++)n.set(o[i],i);return n},gn=mo(class extends bo{constructor(o){if(super(o),o.type!==vo.CHILD)throw Error("repeat() can only be used in text expressions")}ct(o,e,t){let n;t===void 0?t=e:e!==void 0&&(n=e);const i=[],r=[];let s=0;for(const l of o)i[s]=n?n(l,s):s,r[s]=t(l,s),s++;return{values:r,keys:i}}render(o,e,t){return this.ct(o,e,t).values}update(o,[e,t,n]){var i;const r=Eo(o),{values:s,keys:l}=this.ct(e,t,n);if(!Array.isArray(r))return this.ut=l,s;const a=(i=this.ut)!==null&&i!==void 0?i:this.ut=[],d=[];let u,c,f=0,p=r.length-1,g=0,m=s.length-1;for(;f<=p&&g<=m;)if(r[f]===null)f++;else if(r[p]===null)p--;else if(a[f]===l[g])d[g]=he(r[f],s[g]),f++,g++;else if(a[p]===l[m])d[m]=he(r[p],s[m]),p--,m--;else if(a[f]===l[m])d[m]=he(r[f],s[m]),Ue(o,d[m+1],r[f]),f++,m--;else if(a[p]===l[g])d[g]=he(r[p],s[g]),Ue(o,r[f],r[p]),p--,g++;else if(u===void 0&&(u=pn(l,g,m),c=pn(a,f,p)),u.has(a[f]))if(u.has(a[p])){const A=c.get(l[g]),R=A!==void 0?r[A]:null;if(R===null){const x=Ue(o,r[f]);he(x,s[g]),d[g]=x}else d[g]=he(R,s[g]),Ue(o,r[f],R),r[A]=null;g++}else xt(r[p]),p--;else xt(r[f]),f++;for(;g<=m;){const A=Ue(o,d[m+1]);he(A,s[g]),d[g++]=A}for(;f<=p;){const A=r[f++];A!==null&&xt(A)}return this.ut=l,wo(o,d),ye}});/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function vn(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable})),t.push.apply(t,n)}return t}function W(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vn(Object(t),!0).forEach(function(n){$o(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):vn(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function st(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(e){return typeof e}:st=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(o)}function $o(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Z(){return Z=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(o[n]=t[n])}return o},Z.apply(this,arguments)}function So(o,e){if(o==null)return{};var t={},n=Object.keys(o),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(t[i]=o[i]);return t}function Ao(o,e){if(o==null)return{};var t=So(o,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(o,n)&&(t[n]=o[n])}return t}var Do="1.15.6";function q(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}var J=q(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Je=q(/Edge/i),mn=q(/firefox/i),Le=q(/safari/i)&&!q(/chrome/i)&&!q(/android/i),qt=q(/iP(ad|od|hone)/i),Pn=q(/chrome/i)&&q(/android/i),In={capture:!1,passive:!1};function w(o,e,t){o.addEventListener(e,t,!J&&In)}function _(o,e,t){o.removeEventListener(e,t,!J&&In)}function ft(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function Nn(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function V(o,e,t,n){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&ft(o,e):ft(o,e))||n&&o===t)return o;if(o===t)break}while(o=Nn(o))}return null}var bn=/\s+/g;function B(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var n=(" "+o.className+" ").replace(bn," ").replace(" "+e+" "," ");o.className=(n+(t?" "+e:"")).replace(bn," ")}}function b(o,e,t){var n=o&&o.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=t+(typeof t=="string"?"":"px")}}function Ae(o,e){var t="";if(typeof o=="string")t=o;else do{var n=b(o,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!e&&(o=o.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Mn(o,e,t){if(o){var n=o.getElementsByTagName(e),i=0,r=n.length;if(t)for(;i<r;i++)t(n[i],i);return n}return[]}function Y(){var o=document.scrollingElement;return o||document.documentElement}function C(o,e,t,n,i){if(!(!o.getBoundingClientRect&&o!==window)){var r,s,l,a,d,u,c;if(o!==window&&o.parentNode&&o!==Y()?(r=o.getBoundingClientRect(),s=r.top,l=r.left,a=r.bottom,d=r.right,u=r.height,c=r.width):(s=0,l=0,a=window.innerHeight,d=window.innerWidth,u=window.innerHeight,c=window.innerWidth),(e||t)&&o!==window&&(i=i||o.parentNode,!J))do if(i&&i.getBoundingClientRect&&(b(i,"transform")!=="none"||t&&b(i,"position")!=="static")){var f=i.getBoundingClientRect();s-=f.top+parseInt(b(i,"border-top-width")),l-=f.left+parseInt(b(i,"border-left-width")),a=s+r.height,d=l+r.width;break}while(i=i.parentNode);if(n&&o!==window){var p=Ae(i||o),g=p&&p.a,m=p&&p.d;p&&(s/=m,l/=g,c/=g,u/=m,a=s+u,d=l+c)}return{top:s,left:l,bottom:a,right:d,width:c,height:u}}}function yn(o,e,t){for(var n=ie(o,!0),i=C(o)[e];n;){var r=C(n)[t],s=void 0;if(s=i>=r,!s)return n;if(n===Y())break;n=ie(n,!1)}return!1}function Te(o,e,t,n){for(var i=0,r=0,s=o.children;r<s.length;){if(s[r].style.display!=="none"&&s[r]!==v.ghost&&(n||s[r]!==v.dragged)&&V(s[r],t.draggable,o,!1)){if(i===e)return s[r];i++}r++}return null}function Zt(o,e){for(var t=o.lastElementChild;t&&(t===v.ghost||b(t,"display")==="none"||e&&!ft(t,e));)t=t.previousElementSibling;return t||null}function z(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==v.clone&&(!e||ft(o,e))&&t++;return t}function _n(o){var e=0,t=0,n=Y();if(o)do{var i=Ae(o),r=i.a,s=i.d;e+=o.scrollLeft*r,t+=o.scrollTop*s}while(o!==n&&(o=o.parentNode));return[e,t]}function Co(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===o[t][n])return Number(t)}return-1}function ie(o,e){if(!o||!o.getBoundingClientRect)return Y();var t=o,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=b(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Y();if(n||e)return t;n=!0}}while(t=t.parentNode);return Y()}function xo(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function Tt(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}var je;function Hn(o,e){return function(){if(!je){var t=arguments,n=this;t.length===1?o.call(n,t[0]):o.apply(n,t),je=setTimeout(function(){je=void 0},e)}}}function To(){clearTimeout(je),je=void 0}function Rn(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function kn(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}function Un(o,e,t){var n={};return Array.from(o.children).forEach(function(i){var r,s,l,a;if(!(!V(i,e.draggable,o,!1)||i.animated||i===t)){var d=C(i);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,d.left),n.top=Math.min((s=n.top)!==null&&s!==void 0?s:1/0,d.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,d.right),n.bottom=Math.max((a=n.bottom)!==null&&a!==void 0?a:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var H="Sortable"+new Date().getTime();function Oo(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(b(i,"display")==="none"||i===v.ghost)){o.push({target:i,rect:C(i)});var r=W({},o[o.length-1].rect);if(i.thisAnimationDuration){var s=Ae(i,!0);s&&(r.top-=s.f,r.left-=s.e)}i.fromRect=r}})}},addAnimationState:function(n){o.push(n)},removeAnimationState:function(n){o.splice(Co(o,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,s=0;o.forEach(function(l){var a=0,d=l.target,u=d.fromRect,c=C(d),f=d.prevFromRect,p=d.prevToRect,g=l.rect,m=Ae(d,!0);m&&(c.top-=m.f,c.left-=m.e),d.toRect=c,d.thisAnimationDuration&&Tt(f,c)&&!Tt(u,c)&&(g.top-c.top)/(g.left-c.left)===(u.top-c.top)/(u.left-c.left)&&(a=Io(g,f,p,i.options)),Tt(c,u)||(d.prevFromRect=u,d.prevToRect=c,a||(a=i.options.animation),i.animate(d,g,c,a)),a&&(r=!0,s=Math.max(s,a),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},a),d.thisAnimationDuration=a)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},s):typeof n=="function"&&n(),o=[]},animate:function(n,i,r,s){if(s){b(n,"transition",""),b(n,"transform","");var l=Ae(this.el),a=l&&l.a,d=l&&l.d,u=(i.left-r.left)/(a||1),c=(i.top-r.top)/(d||1);n.animatingX=!!u,n.animatingY=!!c,b(n,"transform","translate3d("+u+"px,"+c+"px,0)"),this.forRepaintDummy=Po(n),b(n,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),b(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){b(n,"transition",""),b(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},s)}}}}function Po(o){return o.offsetWidth}function Io(o,e,t,n){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*n.animation}var _e=[],Ot={initializeByDefault:!0},Qe={mount:function(e){for(var t in Ot)Ot.hasOwnProperty(t)&&!(t in e)&&(e[t]=Ot[t]);_e.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),_e.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";_e.forEach(function(s){t[s.pluginName]&&(t[s.pluginName][r]&&t[s.pluginName][r](W({sortable:t},n)),t.options[s.pluginName]&&t[s.pluginName][e]&&t[s.pluginName][e](W({sortable:t},n)))})},initializePlugins:function(e,t,n,i){_e.forEach(function(l){var a=l.pluginName;if(!(!e.options[a]&&!l.initializeByDefault)){var d=new l(e,t,e.options);d.sortable=e,d.options=e.options,e[a]=d,Z(n,d.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var s=this.modifyOption(e,r,e.options[r]);typeof s<"u"&&(e.options[r]=s)}},getEventProperties:function(e,t){var n={};return _e.forEach(function(i){typeof i.eventProperties=="function"&&Z(n,i.eventProperties.call(t[i.pluginName],e))}),n},modifyOption:function(e,t,n){var i;return _e.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(i=r.optionListeners[t].call(e[r.pluginName],n))}),i}};function No(o){var e=o.sortable,t=o.rootEl,n=o.name,i=o.targetEl,r=o.cloneEl,s=o.toEl,l=o.fromEl,a=o.oldIndex,d=o.newIndex,u=o.oldDraggableIndex,c=o.newDraggableIndex,f=o.originalEvent,p=o.putSortable,g=o.extraEventProperties;if(e=e||t&&t[H],!!e){var m,A=e.options,R="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!J&&!Je?m=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(n,!0,!0)),m.to=s||t,m.from=l||t,m.item=i||t,m.clone=r,m.oldIndex=a,m.newIndex=d,m.oldDraggableIndex=u,m.newDraggableIndex=c,m.originalEvent=f,m.pullMode=p?p.lastPutMode:void 0;var x=W(W({},g),Qe.getEventProperties(n,e));for(var L in x)m[L]=x[L];t&&t.dispatchEvent(m),A[R]&&A[R].call(e,m)}}var Mo=["evt"],M=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,r=Ao(n,Mo);Qe.pluginEvent.bind(v)(e,t,W({dragEl:h,parentEl:S,ghostEl:y,rootEl:E,nextEl:ge,lastDownEl:at,cloneEl:$,cloneHidden:oe,dragStarted:Be,putSortable:P,activeSortable:v.active,originalEvent:i,oldIndex:Se,oldDraggableIndex:Ve,newIndex:F,newDraggableIndex:te,hideGhostForTarget:Ln,unhideGhostForTarget:jn,cloneNowHidden:function(){oe=!0},cloneNowShown:function(){oe=!1},dispatchSortableEvent:function(l){N({sortable:t,name:l,originalEvent:i})}},r))};function N(o){No(W({putSortable:P,cloneEl:$,targetEl:h,rootEl:E,oldIndex:Se,oldDraggableIndex:Ve,newIndex:F,newDraggableIndex:te},o))}var h,S,y,E,ge,at,$,oe,Se,F,Ve,te,tt,P,$e=!1,pt=!1,gt=[],fe,j,Pt,It,wn,En,Be,we,Xe,Ye=!1,nt=!1,lt,I,Nt=[],zt=!1,vt=[],_t=typeof document<"u",ot=qt,$n=Je||J?"cssFloat":"float",Ho=_t&&!Pn&&!qt&&"draggable"in document.createElement("div"),Bn=function(){if(_t){if(J)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}}(),Fn=function(e,t){var n=b(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Te(e,0,t),s=Te(e,1,t),l=r&&b(r),a=s&&b(s),d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+C(r).width,u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+C(s).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var c=l.float==="left"?"left":"right";return s&&(a.clear==="both"||a.clear===c)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||d>=i&&n[$n]==="none"||s&&n[$n]==="none"&&d+u>i)?"vertical":"horizontal"},Ro=function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,s=n?e.width:e.height,l=n?t.left:t.top,a=n?t.right:t.bottom,d=n?t.width:t.height;return i===l||r===a||i+s/2===l+d/2},ko=function(e,t){var n;return gt.some(function(i){var r=i[H].options.emptyInsertThreshold;if(!(!r||Zt(i))){var s=C(i),l=e>=s.left-r&&e<=s.right+r,a=t>=s.top-r&&t<=s.bottom+r;if(l&&a)return n=i}}),n},zn=function(e){function t(r,s){return function(l,a,d,u){var c=l.options.group.name&&a.options.group.name&&l.options.group.name===a.options.group.name;if(r==null&&(s||c))return!0;if(r==null||r===!1)return!1;if(s&&r==="clone")return r;if(typeof r=="function")return t(r(l,a,d,u),s)(l,a,d,u);var f=(s?l:a).options.group.name;return r===!0||typeof r=="string"&&r===f||r.join&&r.indexOf(f)>-1}}var n={},i=e.group;(!i||st(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Ln=function(){!Bn&&y&&b(y,"display","none")},jn=function(){!Bn&&y&&b(y,"display","")};_t&&!Pn&&document.addEventListener("click",function(o){if(pt)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),pt=!1,!1},!0);var pe=function(e){if(h){e=e.touches?e.touches[0]:e;var t=ko(e.clientX,e.clientY);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[H]._onDragOver(n)}}},Uo=function(e){h&&h.parentNode[H]._isOutsideThisEl(e.target)};function v(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=Z({},e),o[H]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fn(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,l){s.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:v.supportPointer!==!1&&"PointerEvent"in window&&(!Le||qt),emptyInsertThreshold:5};Qe.initializePlugins(this,o,t);for(var n in t)!(n in e)&&(e[n]=t[n]);zn(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Ho,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?w(o,"pointerdown",this._onTapStart):(w(o,"mousedown",this._onTapStart),w(o,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(o,"dragover",this),w(o,"dragenter",this)),gt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Z(this,Oo())}v.prototype={constructor:v,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(we=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,s=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(l||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,u=i.filter;if(Yo(n),!h&&!(/mousedown|pointerdown/.test(s)&&e.button!==0||i.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Le&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=V(a,i.draggable,n,!1),!(a&&a.animated)&&at!==a)){if(Se=z(a),Ve=z(a,i.draggable),typeof u=="function"){if(u.call(this,e,a,this)){N({sortable:t,rootEl:d,name:"filter",targetEl:a,toEl:n,fromEl:n}),M("filter",t,{evt:e}),r&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(c){if(c=V(d,c.trim(),n,!1),c)return N({sortable:t,rootEl:c,name:"filter",targetEl:a,fromEl:n,toEl:n}),M("filter",t,{evt:e}),!0}),u)){r&&e.preventDefault();return}i.handle&&!V(d,i.handle,n,!1)||this._prepareDragStart(e,l,a)}}},_prepareDragStart:function(e,t,n){var i=this,r=i.el,s=i.options,l=r.ownerDocument,a;if(n&&!h&&n.parentNode===r){var d=C(n);if(E=r,h=n,S=h.parentNode,ge=h.nextSibling,at=n,tt=s.group,v.dragged=h,fe={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},wn=fe.clientX-d.left,En=fe.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",a=function(){if(M("delayEnded",i,{evt:e}),v.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!mn&&i.nativeDraggable&&(h.draggable=!0),i._triggerDragStart(e,t),N({sortable:i,name:"choose",originalEvent:e}),B(h,s.chosenClass,!0)},s.ignore.split(",").forEach(function(u){Mn(h,u.trim(),Mt)}),w(l,"dragover",pe),w(l,"mousemove",pe),w(l,"touchmove",pe),s.supportPointer?(w(l,"pointerup",i._onDrop),!this.nativeDraggable&&w(l,"pointercancel",i._onDrop)):(w(l,"mouseup",i._onDrop),w(l,"touchend",i._onDrop),w(l,"touchcancel",i._onDrop)),mn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),M("delayStart",this,{evt:e}),s.delay&&(!s.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Je||J))){if(v.eventCanceled){this._onDrop();return}s.supportPointer?(w(l,"pointerup",i._disableDelayedDrag),w(l,"pointercancel",i._disableDelayedDrag)):(w(l,"mouseup",i._disableDelayedDrag),w(l,"touchend",i._disableDelayedDrag),w(l,"touchcancel",i._disableDelayedDrag)),w(l,"mousemove",i._delayedDragTouchMoveHandler),w(l,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&w(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(a,s.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&Mt(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"pointerup",this._disableDelayedDrag),_(e,"pointercancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):t?w(document,"touchmove",this._onTouchMove):w(document,"mousemove",this._onTouchMove):(w(h,"dragend",this),w(E,"dragstart",this._onDragStart));try{document.selection?dt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if($e=!1,E&&h){M("dragStarted",this,{evt:t}),this.nativeDraggable&&w(document,"dragover",Uo);var n=this.options;!e&&B(h,n.dragClass,!1),B(h,n.ghostClass,!0),v.active=this,e&&this._appendGhost(),N({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(j){this._lastX=j.clientX,this._lastY=j.clientY,Ln();for(var e=document.elementFromPoint(j.clientX,j.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(j.clientX,j.clientY),e!==t);)t=e;if(h.parentNode[H]._isOutsideThisEl(e),t)do{if(t[H]){var n=void 0;if(n=t[H]._onDragOver({clientX:j.clientX,clientY:j.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=Nn(t));jn()}},_onTouchMove:function(e){if(fe){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,s=y&&Ae(y,!0),l=y&&s&&s.a,a=y&&s&&s.d,d=ot&&I&&_n(I),u=(r.clientX-fe.clientX+i.x)/(l||1)+(d?d[0]-Nt[0]:0)/(l||1),c=(r.clientY-fe.clientY+i.y)/(a||1)+(d?d[1]-Nt[1]:0)/(a||1);if(!v.active&&!$e){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(y){s?(s.e+=u-(Pt||0),s.f+=c-(It||0)):s={a:1,b:0,c:0,d:1,e:u,f:c};var f="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");b(y,"webkitTransform",f),b(y,"mozTransform",f),b(y,"msTransform",f),b(y,"transform",f),Pt=u,It=c,j=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:E,t=C(h,!0,ot,!0,e),n=this.options;if(ot){for(I=e;b(I,"position")==="static"&&b(I,"transform")==="none"&&I!==document;)I=I.parentNode;I!==document.body&&I!==document.documentElement?(I===document&&(I=Y()),t.top+=I.scrollTop,t.left+=I.scrollLeft):I=Y(),Nt=_n(I)}y=h.cloneNode(!0),B(y,n.ghostClass,!1),B(y,n.fallbackClass,!0),B(y,n.dragClass,!0),b(y,"transition",""),b(y,"transform",""),b(y,"box-sizing","border-box"),b(y,"margin",0),b(y,"top",t.top),b(y,"left",t.left),b(y,"width",t.width),b(y,"height",t.height),b(y,"opacity","0.8"),b(y,"position",ot?"absolute":"fixed"),b(y,"zIndex","100000"),b(y,"pointerEvents","none"),v.ghost=y,e.appendChild(y),b(y,"transform-origin",wn/parseInt(y.style.width)*100+"% "+En/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;if(M("dragStart",this,{evt:e}),v.eventCanceled){this._onDrop();return}M("setupClone",this),v.eventCanceled||($=kn(h),$.removeAttribute("id"),$.draggable=!1,$.style["will-change"]="",this._hideClone(),B($,this.options.chosenClass,!1),v.clone=$),n.cloneId=dt(function(){M("clone",n),!v.eventCanceled&&(n.options.removeCloneOnHide||E.insertBefore($,h),n._hideClone(),N({sortable:n,name:"clone"}))}),!t&&B(h,r.dragClass,!0),t?(pt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_(document,"mouseup",n._onDrop),_(document,"touchend",n._onDrop),_(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,h)),w(document,"drop",n),b(h,"transform","translateZ(0)")),$e=!0,n._dragStartId=dt(n._dragStarted.bind(n,t,e)),w(document,"selectstart",n),Be=!0,window.getSelection().removeAllRanges(),Le&&b(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,i,r,s,l=this.options,a=l.group,d=v.active,u=tt===a,c=l.sort,f=P||d,p,g=this,m=!1;if(zt)return;function A(Re,Xn){M(Re,g,W({evt:e,isOwner:u,axis:p?"vertical":"horizontal",revert:s,dragRect:i,targetRect:r,canSort:c,fromSortable:f,target:n,completed:x,onMove:function(Qt,Yn){return it(E,t,h,i,Qt,C(Qt),e,Yn)},changed:L},Xn))}function R(){A("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function x(Re){return A("dragOverCompleted",{insertion:Re}),Re&&(u?d._hideClone():d._showClone(g),g!==f&&(B(h,P?P.options.ghostClass:d.options.ghostClass,!1),B(h,l.ghostClass,!0)),P!==g&&g!==v.active?P=g:g===v.active&&P&&(P=null),f===g&&(g._ignoreWhileAnimating=n),g.animateAll(function(){A("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(n===h&&!h.animated||n===t&&!n.animated)&&(we=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(h.parentNode[H]._isOutsideThisEl(e.target),!Re&&pe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function L(){F=z(h),te=z(h,l.draggable),N({sortable:g,name:"change",toEl:t,newIndex:F,newDraggableIndex:te,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=V(n,l.draggable,t,!0),A("dragOver"),v.eventCanceled)return m;if(h.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||g._ignoreWhileAnimating===n)return x(!1);if(pt=!1,d&&!l.disabled&&(u?c||(s=S!==E):P===this||(this.lastPutMode=tt.checkPull(this,d,h,e))&&a.checkPut(this,d,h,e))){if(p=this._getDirection(e,n)==="vertical",i=C(h),A("dragOverValid"),v.eventCanceled)return m;if(s)return S=E,R(),this._hideClone(),A("revert"),v.eventCanceled||(ge?E.insertBefore(h,ge):E.appendChild(h)),x(!0);var k=Zt(t,l.draggable);if(!k||Lo(e,p,this)&&!k.animated){if(k===h)return x(!1);if(k&&t===e.target&&(n=k),n&&(r=C(n)),it(E,t,h,i,n,r,e,!!n)!==!1)return R(),k&&k.nextSibling?t.insertBefore(h,k.nextSibling):t.appendChild(h),S=t,L(),x(!0)}else if(k&&zo(e,p,this)){var le=Te(t,0,l,!0);if(le===h)return x(!1);if(n=le,r=C(n),it(E,t,h,i,n,r,e,!1)!==!1)return R(),t.insertBefore(h,le),S=t,L(),x(!0)}else if(n.parentNode===t){r=C(n);var X=0,de,Ie=h.parentNode!==t,U=!Ro(h.animated&&h.toRect||i,n.animated&&n.toRect||r,p),Ne=p?"top":"left",Q=yn(n,"top","top")||yn(h,"top","top"),Me=Q?Q.scrollTop:void 0;we!==n&&(de=r[Ne],Ye=!1,nt=!U&&l.invertSwap||Ie),X=jo(e,n,r,p,U?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,nt,we===n);var G;if(X!==0){var ce=z(h);do ce-=X,G=S.children[ce];while(G&&(b(G,"display")==="none"||G===y))}if(X===0||G===n)return x(!1);we=n,Xe=X;var He=n.nextElementSibling,ee=!1;ee=X===1;var et=it(E,t,h,i,n,r,e,ee);if(et!==!1)return(et===1||et===-1)&&(ee=et===1),zt=!0,setTimeout(Fo,30),R(),ee&&!He?t.appendChild(h):n.parentNode.insertBefore(h,ee?He:n),Q&&Rn(Q,0,Me-Q.scrollTop),S=h.parentNode,de!==void 0&&!nt&&(lt=Math.abs(de-C(n)[Ne])),L(),x(!0)}if(t.contains(h))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",pe),_(document,"mousemove",pe),_(document,"touchmove",pe)},_offUpEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"pointercancel",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(F=z(h),te=z(h,n.draggable),M("drop",this,{evt:e}),S=h&&h.parentNode,F=z(h),te=z(h,n.draggable),v.eventCanceled){this._nulling();return}$e=!1,nt=!1,Ye=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Lt(this.cloneId),Lt(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Le&&b(document.body,"user-select",""),b(h,"transform",""),e&&(Be&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(E===S||P&&P.lastPutMode!=="clone")&&$&&$.parentNode&&$.parentNode.removeChild($),h&&(this.nativeDraggable&&_(h,"dragend",this),Mt(h),h.style["will-change"]="",Be&&!$e&&B(h,P?P.options.ghostClass:this.options.ghostClass,!1),B(h,this.options.chosenClass,!1),N({sortable:this,name:"unchoose",toEl:S,newIndex:null,newDraggableIndex:null,originalEvent:e}),E!==S?(F>=0&&(N({rootEl:S,name:"add",toEl:S,fromEl:E,originalEvent:e}),N({sortable:this,name:"remove",toEl:S,originalEvent:e}),N({rootEl:S,name:"sort",toEl:S,fromEl:E,originalEvent:e}),N({sortable:this,name:"sort",toEl:S,originalEvent:e})),P&&P.save()):F!==Se&&F>=0&&(N({sortable:this,name:"update",toEl:S,originalEvent:e}),N({sortable:this,name:"sort",toEl:S,originalEvent:e})),v.active&&((F==null||F===-1)&&(F=Se,te=Ve),N({sortable:this,name:"end",toEl:S,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){M("nulling",this),E=h=S=y=ge=$=at=oe=fe=j=Be=F=te=Se=Ve=we=Xe=P=tt=v.dragged=v.ghost=v.clone=v.active=null,vt.forEach(function(e){e.checked=!0}),vt.length=Pt=It=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),Bo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,i=0,r=n.length,s=this.options;i<r;i++)t=n[i],V(t,s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||Xo(t));return e},sort:function(e,t){var n={},i=this.el;this.toArray().forEach(function(r,s){var l=i.children[s];V(l,this.options.draggable,i,!1)&&(n[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(i.removeChild(n[r]),i.appendChild(n[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return V(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var i=Qe.modifyOption(this,e,t);typeof i<"u"?n[e]=i:n[e]=t,e==="group"&&zn(n)},destroy:function(){M("destroy",this);var e=this.el;e[H]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),gt.splice(gt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!oe){if(M("hideClone",this),v.eventCanceled)return;b($,"display","none"),this.options.removeCloneOnHide&&$.parentNode&&$.parentNode.removeChild($),oe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(oe){if(M("showClone",this),v.eventCanceled)return;h.parentNode==E&&!this.options.group.revertClone?E.insertBefore($,h):ge?E.insertBefore($,ge):E.appendChild($),this.options.group.revertClone&&this.animate(h,$),b($,"display",""),oe=!1}}};function Bo(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function it(o,e,t,n,i,r,s,l){var a,d=o[H],u=d.options.onMove,c;return window.CustomEvent&&!J&&!Je?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=e,a.from=o,a.dragged=t,a.draggedRect=n,a.related=i||e,a.relatedRect=r||C(e),a.willInsertAfter=l,a.originalEvent=s,o.dispatchEvent(a),u&&(c=u.call(d,a,s)),c}function Mt(o){o.draggable=!1}function Fo(){zt=!1}function zo(o,e,t){var n=C(Te(t.el,0,t.options,!0)),i=Un(t.el,t.options,y),r=10;return e?o.clientX<i.left-r||o.clientY<n.top&&o.clientX<n.right:o.clientY<i.top-r||o.clientY<n.bottom&&o.clientX<n.left}function Lo(o,e,t){var n=C(Zt(t.el,t.options.draggable)),i=Un(t.el,t.options,y),r=10;return e?o.clientX>i.right+r||o.clientY>n.bottom&&o.clientX>n.left:o.clientY>i.bottom+r||o.clientX>n.right&&o.clientY>n.top}function jo(o,e,t,n,i,r,s,l){var a=n?o.clientY:o.clientX,d=n?t.height:t.width,u=n?t.top:t.left,c=n?t.bottom:t.right,f=!1;if(!s){if(l&&lt<d*i){if(!Ye&&(Xe===1?a>u+d*r/2:a<c-d*r/2)&&(Ye=!0),Ye)f=!0;else if(Xe===1?a<u+lt:a>c-lt)return-Xe}else if(a>u+d*(1-i)/2&&a<c-d*(1-i)/2)return Vo(e)}return f=f||s,f&&(a<u+d*r/2||a>c-d*r/2)?a>u+d/2?1:-1:0}function Vo(o){return z(h)<z(o)?1:-1}function Xo(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,n=0;t--;)n+=e.charCodeAt(t);return n.toString(36)}function Yo(o){vt.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var n=e[t];n.checked&&vt.push(n)}}function dt(o){return setTimeout(o,0)}function Lt(o){return clearTimeout(o)}_t&&w(document,"touchmove",function(o){(v.active||$e)&&o.cancelable&&o.preventDefault()});v.utils={on:w,off:_,css:b,find:Mn,is:function(e,t){return!!V(e,t,e,!1)},extend:xo,throttle:Hn,closest:V,toggleClass:B,clone:kn,index:z,nextTick:dt,cancelNextTick:Lt,detectDirection:Fn,getChild:Te,expando:H};v.get=function(o){return o[H]};v.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(v.utils=W(W({},v.utils),n.utils)),Qe.mount(n)})};v.create=function(o,e){return new v(o,e)};v.version=Do;var D=[],Fe,jt,Vt=!1,Ht,Rt,mt,ze;function Wo(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):n.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),Sn(),ct(),To()},nulling:function(){mt=jt=Fe=Vt=ze=Ht=Rt=null,D.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,s);if(mt=t,n||this.options.forceAutoScrollFallback||Je||J||Le){kt(t,this.options,l,n);var a=ie(l,!0);Vt&&(!ze||r!==Ht||s!==Rt)&&(ze&&Sn(),ze=setInterval(function(){var d=ie(document.elementFromPoint(r,s),!0);d!==a&&(a=d,ct()),kt(t,i.options,d,n)},10),Ht=r,Rt=s)}else{if(!this.options.bubbleScroll||ie(l,!0)===Y()){ct();return}kt(t,this.options,ie(l,!1),!1)}}},Z(o,{pluginName:"scroll",initializeByDefault:!0})}function ct(){D.forEach(function(o){clearInterval(o.pid)}),D=[]}function Sn(){clearInterval(ze)}var kt=Hn(function(o,e,t,n){if(e.scroll){var i=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,a=Y(),d=!1,u;jt!==t&&(jt=t,ct(),Fe=e.scroll,u=e.scrollFn,Fe===!0&&(Fe=ie(t,!0)));var c=0,f=Fe;do{var p=f,g=C(p),m=g.top,A=g.bottom,R=g.left,x=g.right,L=g.width,k=g.height,le=void 0,X=void 0,de=p.scrollWidth,Ie=p.scrollHeight,U=b(p),Ne=p.scrollLeft,Q=p.scrollTop;p===a?(le=L<de&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),X=k<Ie&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(le=L<de&&(U.overflowX==="auto"||U.overflowX==="scroll"),X=k<Ie&&(U.overflowY==="auto"||U.overflowY==="scroll"));var Me=le&&(Math.abs(x-i)<=s&&Ne+L<de)-(Math.abs(R-i)<=s&&!!Ne),G=X&&(Math.abs(A-r)<=s&&Q+k<Ie)-(Math.abs(m-r)<=s&&!!Q);if(!D[c])for(var ce=0;ce<=c;ce++)D[ce]||(D[ce]={});(D[c].vx!=Me||D[c].vy!=G||D[c].el!==p)&&(D[c].el=p,D[c].vx=Me,D[c].vy=G,clearInterval(D[c].pid),(Me!=0||G!=0)&&(d=!0,D[c].pid=setInterval((function(){n&&this.layer===0&&v.active._onTouchMove(mt);var He=D[this.layer].vy?D[this.layer].vy*l:0,ee=D[this.layer].vx?D[this.layer].vx*l:0;typeof u=="function"&&u.call(v.dragged.parentNode[H],ee,He,o,mt,D[this.layer].el)!=="continue"||Rn(D[this.layer].el,ee,He)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&f!==a&&(f=ie(f,!1)));Vt=d}},30),Vn=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,s=e.dispatchSortableEvent,l=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var d=n||r;l();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);a(),d&&!d.el.contains(c)&&(s("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Kt(){}Kt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Te(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Vn};Z(Kt,{pluginName:"revertOnSpill"});function Jt(){}Jt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Vn};Z(Jt,{pluginName:"removeOnSpill"});v.mount(new Wo);v.mount(Jt,Kt);var Go="M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z",qo=Object.defineProperty,Zo=Object.getOwnPropertyDescriptor,Pe=(o,e,t,n)=>{for(var i=n>1?void 0:n?Zo(e,t):e,r=o.length-1,s;r>=0;r--)(s=o[r])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&qo(e,t,i),i};let se=class extends re{constructor(){super(...arguments),this.defaultSortableOptions={animation:150,handle:".handle"},this.enabledSources=[],this.disabledSources=[],this.hasChanges=!1,this.onDragEnd=o=>async e=>{if(e.oldIndex===e.newIndex)return;const t=o?this.enabledSources:this.disabledSources,n=t.splice(e.oldIndex,1)[0];t.splice(e.newIndex,0,n),this.hasChanges=!0,this.requestUpdate()},this.toggleEnabled=o=>async()=>{const e=o.enabled?this.enabledSources:this.disabledSources,t=e.indexOf(o),n=o.enabled?this.disabledSources:this.enabledSources,i=e.find(r=>r.zone===o.zone);i.enabled=!i.enabled,e.splice(t,1),n.push(i),this.requestUpdate()},this.updateAlias=o=>async e=>{const t=e.target,i=(o.enabled?this.enabledSources:this.disabledSources).find(r=>r.zone===o.zone);i.alias=t.value}}handleCancel(){}handleReset(){}handleSubmit(){if(!this.hasChanges){console.log("No changes to save");return}this.onSave(),this.hasChanges=!1}onSave(){this.dispatchEvent(new CustomEvent("save",{detail:{sources:[...this.enabledSources,...this.disabledSources]},bubbles:!0,composed:!0}))}firstUpdated(){var o,e;v.create((o=this.shadowRoot)==null?void 0:o.querySelector("#enabled-sortable-list"),{...this.defaultSortableOptions,onEnd:this.onDragEnd(!0)}),v.create((e=this.shadowRoot)==null?void 0:e.querySelector("#disabled-sortable-list"),{...this.defaultSortableOptions,onEnd:this.onDragEnd(!1)})}renderRow(o){let e=o.intercom?"Intercom":`Source ${o.zone}`;return me`
        <tr>
            <td class="center">
                <ha-svg-icon
                    class="handle"
                    .path=${Go}
                ></ha-svg-icon>
            </td>
            <td class="center">
                <ha-checkbox
                    .checked=${o.enabled}
                    @change=${this.toggleEnabled(o)}
                ></ha-checkbox>
            </td>
            <td>${e}</td>
            <td>
                <ha-textfield
                    id="source-${o.zone}"
                    .value=${o.alias}
                    .disabled=${!o.enabled}
                    @change=${this.updateAlias(o)}
                ></ha-textfield>
            </td>
        </tr>
    `}render(){return me`
        <ha-card header="Source Configuration">
            <table>
                <thead>
                <tr>
                    <th>&nbsp;</th>
                    <th class="center">Enabled</th>
                    <th>Source Number</th>
                    <th>Alias</th>
                </tr>
                </thead>
                <tbody id="enabled-sortable-list">
                ${gn(this.enabledSources,o=>o.zone,o=>this.renderRow(o))}
                </tbody>
                <tbody id="disabled-sortable-list">
                ${gn(this.disabledSources,o=>o.zone,o=>this.renderRow(o))}
                </tbody>
            </table>
            <div class="card-actions">
                <ha-progress-button @click=${this.handleSubmit}>
                    Save
                </ha-progress-button>

                <ha-progress-button @click=${this.handleCancel}>
                    Cancel
                </ha-progress-button>

                <ha-progress-button @click=${this.handleReset}>
                    Reset
                </ha-progress-button>
            </div>
        </ha-card>
    `}};se.styles=Wt`
      table {
          width: 100%;
          border-collapse: collapse;
      }

      th, td {
          padding: 8px;
          border-bottom: 1px solid var(--divider-color);
          text-align: left
      }

      td.center, th.center {
          text-align: center;
      }

      tr:last-child td {
          border-bottom: 0;
      }

      .handle {
          cursor: grab;
      }

      .sortable-ghost {
          background: rgba(var(--rgb-primary-color), 0.25);
          box-shadow: 0 0 0 2px var(--primary-color);
          border-radius: 4px;
          opacity: 0.4;
      }

      .sortable-chosen {
      }
  `;Pe([O({attribute:!1})],se.prototype,"hass",2);Pe([O({type:Array})],se.prototype,"enabledSources",2);Pe([O({type:Array})],se.prototype,"disabledSources",2);Pe([O({type:String})],se.prototype,"sourceType",2);Pe([O({attribute:!1})],se.prototype,"hasChanges",2);se=Pe([yt("htd-sources-editor")],se);const Ko=async()=>{var n,i,r,s,l,a,d;await customElements.whenDefined("partial-panel-resolver");const e=document.createElement("partial-panel-resolver")._getRoutes([{component_name:"config",url_path:"a"}]);await((r=(i=(n=e==null?void 0:e.routes)==null?void 0:n.a)==null?void 0:i.load)==null?void 0:r.call(i)),await customElements.whenDefined("ha-panel-config");const t=document.createElement("ha-panel-config");await((d=(a=(l=(s=t==null?void 0:t.routerOptions)==null?void 0:s.routes)==null?void 0:l.general)==null?void 0:a.load)==null?void 0:d.call(a)),await customElements.whenDefined("ha-config-dashboard")};var Jo=Object.defineProperty,Qo=Object.getOwnPropertyDescriptor,ae=(o,e,t,n)=>{for(var i=n>1?void 0:n?Qo(e,t):e,r=o.length-1,s;r>=0;r--)(s=o[r])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Jo(e,t,i),i};Ko();let K=class extends re{constructor(){super(...arguments),this.integrationHome="/config/integrations/integration/htd",this.narrow=!1}async firstUpdated(o){super.firstUpdated(o);const e=new URLSearchParams(window.location.search);this.entryId=e.get("config_entry"),this.entryId||location.replace(this.integrationHome),this.style.setProperty("--app-header-background-color","var(--sidebar-background-color)"),this.style.setProperty("--app-header-text-color","var(--sidebar-text-color)"),this.style.setProperty("--app-header-border-bottom","1px solid var(--divider-color)"),this.refresh()}async refreshConfig(){this.config=await this.hass.callWS({type:"htd/config/get",entry_id:this.entryId}),this.requestUpdate()}async refreshSources(){this.sources=await this.hass.callWS({type:"htd/sources/get",entry_id:this.entryId}),this.enabledSources=this.sources.filter(o=>o.enabled),this.disabledSources=this.sources.filter(o=>!o.enabled),this.requestUpdate()}async refresh(){this.refreshSources()}async onSaveSources(o){const{sources:e}=o.detail;console.log("save:",e);const t=await this.hass.callWS({type:"htd/sources/set",entry_id:this.entryId,sources:e});console.log("set sources response:",t)}render(){return me`
        <htd-layout
            .hass=${this.hass}
            .header= ${"Home Theater Direct Configuration"}
        >
            ${this.sources?me`
                    <htd-sources-editor
                        .enabledSources=${this.enabledSources}
                        .disabledSources=${this.disabledSources}
                        @save=${this.onSaveSources}
                    ></htd-sources-editor>
                `:me`Loading...`}
        </htd-layout>
    `}};ae([O({attribute:!1})],K.prototype,"hass",2);ae([O({type:Boolean,reflect:!0})],K.prototype,"narrow",2);ae([uo()],K.prototype,"entryId",2);ae([O({type:Array,attribute:!1})],K.prototype,"sources",2);ae([O({type:Array,attribute:!1})],K.prototype,"enabledSources",2);ae([O({type:Array,attribute:!1})],K.prototype,"disabledSources",2);ae([O({attribute:!1})],K.prototype,"config",2);K=ae([yt("htd-config-panel")],K);
